<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Safloet Systems</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
  <div class="logo-title">
    <img src="assets/log.png" alt="Safloet Logo" class="logo">
    <h1>Safloet Systems</h1>
  </div>

  <nav>
    <a href="index.html">Home</a>
    <a href="purchase.html">How to Purchase</a>
    <a href="privacy.html">Privacy Policy</a>
    <a href="tos.html">Terms of Service</a>
    <a href="contact.html">Contact Us</a>
    <a href="https://stats.uptimerobot.com/Otkd3JTFG7">Uptime Stats</a>
  </nav>

  <div id="login-area">
    <!-- JS will populate login button or avatar -->
  </div>
</header>


  <main>
    <h2>FUCKKKK Ready-Made, Bots needed to be hosted by yourself. </h2>
    <p>These bots are designed to be self-hosted, giving you full control over their functionality and performance. Safloet Systems will not host them for you.</p>

    <section class="bot-list">
      <div class="bot-card">
        <h3>Safloet Moderation Bot</h3>
        <p>Advanced moderation features for your Discord server.</p>
        <a href="bots/SafloetModerationBot.html">View Bot</a>
      </div>
      <div class="bot-card">
        <h3>Safloet Gambling Bot</h3>
        <p>Advanced gambling features for your Discord server.</p>
        <a href="bots/SafloetGamblingBot.html">View Bot</a>
      </div>
      <div class="bot-card">
        <h3>Safloet Ticket Bot</h3>
        <p>Advanced support features for your Discord server.</p>
        <a href="bots/SafloetTicketBot.html">View Bot</a>
      </div>
    </section>

    <h2>Hosted bots</h2>
    <p>These bots are hosted by Safloet Systems, providing you with a hassle-free experience. You can use them without needing to set up your own hosting environment.</p>
    <section class="bot-list">
      <div class="bot-card">
        <h3>Safloet Verification Bot</h3>
        <p>Verification for your RoK projects and kingdom.</p>
        <a href="bots/SafloetVerificationBot.html">View Bot</a>
      </div>
      <div class="bot-card">
        <h3>Safloet Centralized RoK Marketplace</h3>
        <p>Verification for your RoK projects and kingdom.</p>
        <a href="bots/SafloetVerificationBot.html">View Bot</a>
      </div>
    </section>
  </main>

  <footer>
    <p>Â© 2025 Safloet Systems. All rights reserved.</p>
  </footer>

  <script>
    async function updateLoginArea() {
      const loginArea = document.getElementById("login-area");

      try {
        const res = await fetch("https://auth.safloetsystems.xyz/me", { credentials: "include" });
        const data = await res.json();

        if (data.logged_in) {
          loginArea.innerHTML = `
            <img class="avatar" src="${data.user.avatar_url}" alt="avatar">
            <span>${data.user.username}</span>
            <button id="logout-button" class="button">Logout</button>
          `;
          document.getElementById("logout-button").addEventListener("click", async () => {
            await fetch("https://auth.safloetsystems.xyz/logout", { credentials: "include" });
            updateLoginArea();
          });
        } else {
          loginArea.innerHTML = `
            <a href="https://auth.safloetsystems.xyz/login?next=https://safloetsystems.xyz" class="button">Login with Discord</a>
          `;
        }

      } catch (err) {
        console.error("Failed to fetch login status", err);
        loginArea.innerHTML = `<span style="color:red;">Error loading login</span>`;
      }
    }

    // Run on page load
    updateLoginArea();
  </script>
  

</body>
</html>
